<div class="container-fluid">
  <div class="content">
    <!-- Affichage de l'icÃ´ne de chargement -->
    <div class="loading-spinner" *ngIf="isLoading">
      <fa-icon [icon]="faSun" class="fa-spin" animation="spin"></fa-icon>
      <!-- Optionnel : Texte de chargement -->
      <p>Chargement en cours...</p>
    </div>

    <div *ngIf="!isLoading">
      <ng-container *ngIf="combinedData$ | async as data">
        <app-breadcrumb 
          [title]="'Batterie'" 
          [controllerData]="data.controllerData"
          [dailyStatistics]="data.dailyStatistics"
          [isServerOnline]="isServerOnline">
        </app-breadcrumb>
      </ng-container>
      <div class="row  g-4">
        <div class="col-12 col-sm-12 col-md-8 col-lg-8">
          <app-batterie-data *ngIf="batteryStatus$ | async as batteryStatus" [batteryStatus]="batteryStatus" (labelSelected)="onLabelSelected($event)" ></app-batterie-data>
          <app-batterie-graphique [selectedLabel]="selectedLabel" ></app-batterie-graphique>
        </div>
        <div class="col-12 col-sm-12 col-md-4 col-lg-4">
          <app-batterie-pourcentage *ngIf="batteryStatus$ | async as batteryStatus" [batteryStatus]="batteryStatus" (labelSelected)="onLabelSelected($event)"></app-batterie-pourcentage>
          <app-batterie-temperature *ngIf="batteryStatus$ | async as batteryStatus" [batteryStatus]="batteryStatus" (labelSelected)="onLabelSelected($event)"></app-batterie-temperature>
          <app-batterie-status *ngIf="batteryStatus$ | async as batteryStatus" [batteryStatus]="batteryStatus" ></app-batterie-status>
        </div>
      </div>
    </div>
  </div>
</div>
  